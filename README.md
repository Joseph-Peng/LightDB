# MyDB
My MySQL

## TM(TransactionManager)
事务管理
1. 提供了其他模块来查询、修改某个事务的状态的接口。
2. 还提供了begin、commit、abort接口来管理事务桩体

TM通过维护一个**TID文件**来维护事务的状态，文件头部前8个字节
记录了管理的事务的个数。

**超级事务**：TID为0，永远为committed状态，当一些操作想在没有申请事务的情况下进行，那么可以将操作的 TID 设置为 0。

**普通事务**：每个事务的占用长度为1 byte，故事务在文件中的位置为
8 + tid - 1; 普通事务tid从1开始。

**TID文件合法性检查**：每次启动数据库时需要对TID文件进行检查。
判断TID文件的长度 == 8(首部) + (事务的数量[首部8个字节记录] - 1)*事务大小。不等就说明文件错误，需要手动检查。

## DM(DataManager)
数据管理
